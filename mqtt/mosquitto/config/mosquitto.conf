# ==============================
# ðŸŸ¢ CONFIGURACIÃ“N PRINCIPAL ðŸŸ¢
# ==============================

# Define el puerto en el que Mosquitto escucharÃ¡ conexiones MQTT.
# El puerto 1883 es el estÃ¡ndar para conexiones MQTT sin TLS.
listener 1883
protocol mqtt
# Bloquea el acceso anÃ³nimo al broker.
# Solo permitirÃ¡ conexiones con usuarios autenticados.
allow_anonymous false

# Archivo donde se almacenan los usuarios y contraseÃ±as.
# Este archivo se debe generar con `mosquitto_passwd`.
# Cada lÃ­nea contiene un usuario y su contraseÃ±a en formato cifrado.
password_file /mosquitto/config/passwords.txt

# Archivo de control de acceso (ACL).
# Define quÃ© usuarios pueden publicar o suscribirse a determinados topics.
# El formato es:
#   user <nombre_usuario>
#   topic <permiso> <nombre_topic>
# Permisos posibles:
#   - read: solo permite suscripciÃ³n
#   - write: solo permite publicaciÃ³n
#   - readwrite: permite ambos
acl_file /mosquitto/config/acls.txt

# ==============================
# ðŸŸ¢ CONFIGURACIÃ“N DE WEBSOCKETS ðŸŸ¢
# ==============================

# Define un listener para conexiones WebSocket en el puerto 9001.
# Esto es necesario para clientes MQTT en navegadores web o mÃ³viles.
listener 9001
protocol websockets

# ==============================
# ðŸŸ¢ CONFIGURACIÃ“N DE PERSISTENCIA ðŸŸ¢
# ==============================

# Habilita la persistencia de los mensajes y sesiones de los clientes.
# Esto permite que los mensajes y suscripciones sobrevivan a reinicios.
persistence true

# Directorio donde Mosquitto almacenarÃ¡ los datos persistentes.
persistence_location /mosquitto/data/

# ==============================
# ðŸŸ¢ CONFIGURACIÃ“N DE LOGS ðŸŸ¢
# ==============================

# Define el archivo donde Mosquitto guardarÃ¡ los logs.
# Es Ãºtil para diagnosticar problemas o revisar actividad del broker.
log_dest file /mosquitto/log/mosquitto.log

# Niveles de log disponibles:
# - error       â†’ Solo errores crÃ­ticos.
# - warning     â†’ Advertencias.
# - notice      â†’ InformaciÃ³n importante.
# - information â†’ InformaciÃ³n detallada.
# - all         â†’ Todo (depuraciÃ³n).
# - none        â†’ Desactiva logs.
log_type error
log_type warning
log_type notice
log_type information

# ==============================
# ðŸŸ¢ CONFIGURACIONES OPCIONALES ðŸŸ¢
# ==============================

# NÃºmero mÃ¡ximo de conexiones simultÃ¡neas (0 = ilimitado).
# max_connections 1000

# Tiempo en segundos antes de cerrar una conexiÃ³n inactiva (default: 60).
# keepalive_interval 60

# Desactiva logs excesivos como paquetes PING o conexiones normales.
# log_type none
