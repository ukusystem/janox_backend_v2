import{j as e,S as ge,s as Ie,ax as re,r as b,aG as Re,u as xe,a as fe,l as h,T as S,aH as ie,aI as de,m as je,L as ce,aJ as $e,aK as Ce,i as ue,E as Pe,p as he,aL as Te,h as ye,B,ay as Ve,n as Fe,az as Ee,aA as Be,aB as be,aC as ve,aD as Le,a8 as f,a5 as ke,ac as j,aM as Ae,aN as ze,ao as x,am as _,a6 as Oe,aO as We,a9 as k,aa as N,ab as Q,an as we,ad as Me,aP as _e,aQ as De,aR as Ye}from"./index-B2MwQ28r.js";import{g as Ge}from"./groupByKey-nGMiMvM1.js";import{u as Ue,g as Ke,a as Ne,f as Se}from"./index-BfUUcth7.js";import{S as Qe}from"./SearchIcon-CAoQ-mMC.js";import{L as me}from"./ListItemButton-Dybxl5ag.js";const Ze=({...o})=>e.jsx(ge,{...o,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("mask",{id:"mask0_2799_6986",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:e.jsx("rect",{width:"24",height:"24",fill:"#D9D9D9"})}),e.jsx("g",{mask:"url(#mask0_2799_6986)",children:e.jsx("path",{d:"M10 18V16H14V18H10ZM6 13V11H18V13H6ZM3 8V6H21V8H3Z",fill:"currentColor"})})]})}),qe=({...o})=>e.jsx(ge,{...o,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M10.5 11.25H7.5C7.30109 11.25 7.11032 11.329 6.96967 11.4697C6.82902 11.6103 6.75 11.8011 6.75 12V16.5C6.75 16.6989 6.82902 16.8897 6.96967 17.0303C7.11032 17.171 7.30109 17.25 7.5 17.25H10.5M15.75 11.25H12.75C12.5511 11.25 12.3603 11.329 12.2197 11.4697C12.079 11.6103 12 11.8011 12 12V13.5C12 13.6989 12.079 13.8897 12.2197 14.0303C12.3603 14.171 12.5511 14.25 12.75 14.25H14.25C14.4489 14.25 14.6397 14.329 14.7803 14.4697C14.921 14.6103 15 14.8011 15 15V16.5C15 16.6989 14.921 16.8897 14.7803 17.0303C14.6397 17.171 14.4489 17.25 14.25 17.25H11.25M17.25 10.5C17.25 11.25 18.75 17.25 18.75 17.25H20.25C20.25 17.25 21.75 11.25 21.75 10.5M16.5 20.25V21.75H3V2.25H12M12 2.25V6.75H16.5M12 2.25H12.75L16.5 6V6.75M16.5 6.75V9",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})})}),Je=({...o})=>e.jsx(ge,{...o,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M21.17 3.25C21.39 3.25 21.5867 3.33333 21.76 3.5C21.92 3.66 22 3.85333 22 4.08V19.92C22 20.1467 21.92 20.34 21.76 20.5C21.5867 20.6667 21.39 20.75 21.17 20.75H7.83C7.61 20.75 7.41333 20.6667 7.24 20.5C7.08 20.34 7 20.1467 7 19.92V17H2.83C2.61 17 2.41333 16.92 2.24 16.76C2.08 16.5867 2 16.39 2 16.17V7.83C2 7.61 2.08 7.41333 2.24 7.24C2.41333 7.08 2.61 7 2.83 7H7V4.08C7 3.85333 7.08 3.66 7.24 3.5C7.41333 3.33333 7.61 3.25 7.83 3.25M7 13.06L8.18 15.28H9.97L8 12.06L9.93 8.89H8.22L7.13 10.9L7.09 10.96L7.06 11.03C6.88667 10.6767 6.7 10.32 6.5 9.96C6.33333 9.60667 6.15667 9.25 5.97 8.89H4.16L6.05 12.08L4 15.28H5.78M13.88 19.5V17H8.25V19.5M13.88 15.75V12.63H12V15.75M13.88 11.38V8.25H12V11.38M13.88 7V4.5H8.25V7M20.75 19.5V17H15.13V19.5M20.75 15.75V12.63H15.13V15.75M20.75 11.38V8.25H15.13V11.38M20.75 7V4.5H15.13V7H20.75Z",fill:"currentColor"})})});function Z(o,i=!1){const m=new Date(o),l=m.getDate().toString().padStart(2,"0"),g=(m.getMonth()+1).toString().padStart(2,"0"),s=m.getFullYear(),d=m.getHours().toString().padStart(2,"0"),p=m.getMinutes().toString().padStart(2,"0"),c=m.getSeconds().toString().padStart(2,"0");return i?`${s}-${g}-${l} ${d}:${p}:${c}`:`${l}/${g}/${s} ${d}:${p}:${c}`}const Xe=Ie(re)(({theme:o})=>({borderRadius:"8px 8px 0 0 ",border:"none",backgroundColor:o.palette.background.paper,backgroundImage:"none",boxShadow:"none",color:o.palette.text.primary}));function et(o){return o.length===0?[]:o.map(i=>({accessorKey:i,header:()=>e.jsx("span",{children:i})}))}const ot=()=>{const[o,i]=b.useState({}),[m,l]=b.useState([]),[g]=Re(),s=xe(),{endDate:d,startDate:p,rgn_id:c,ctrl_id:v,register_type:C,register_type_name:D,register_data:H,table_columns:ae,startTime:R,endTime:$,filters:L}=fe(r=>r.registerStore),A=b.useMemo(()=>(i({}),l([]),et(ae)),[C]),se=b.useMemo(()=>H===null?[]:H.data.map(a=>{const u={...a};return u.fecha&&(u.fecha=Z(u.fecha,!0)),u.fechacomienzo&&(u.fechacomienzo=Z(u.fechacomienzo,!0)),u.fechatermino&&(u.fechatermino=Z(u.fechatermino,!0)),u.fechaestadofinal&&(u.fechaestadofinal=Z(u.fechaestadofinal,!0)),u.fechacreacion&&(u.fechacreacion=Z(u.fechacreacion,!0)),u}),[H]),Y=Ue({data:se,columns:A,getCoreRowModel:Ke(),getFilteredRowModel:Ne(),onColumnVisibilityChange:i,state:{columnVisibility:o,columnFilters:m}}),[J,X]=b.useState(null),le=r=>{C&&X(r.currentTarget)},oe=()=>{X(null)},ee=!!J,te=ee?"filter-table-button":void 0,[w,I]=b.useState(null),t=r=>{C&&I(r.currentTarget)},n=()=>{I(null)},y=!!w,z=y?"search-table-button":void 0,[O,W]=b.useState(null),ne=r=>{W(r.currentTarget)},P=()=>{W(null)},T=!!O,G=T?"download-table-button":void 0,U=r=>{const a=Object.values(L).filter(u=>{var M,F;return((F=(M=u.value)==null?void 0:M.trim)==null?void 0:F.call(M))!==""&&u.id!==r});l(a)},V=async({tipo:r})=>{try{const a=Y.getState().columnVisibility,u=Object.keys(a).reduce((M,F)=>{let K=M;return a[F]||(K=K+`&col_delete=${F}`),K},"");if(d!==null&&p!==null&&R!==null&&$!==null&&c!==void 0&&v!==void 0&&C!==void 0){const M=`/register/download/${r}?type=${C}&ctrl_id=${v}&start_date=${encodeURIComponent(f(`${p} ${R}`,"DD/MM/YYYY h:mm A").format("YYYY-MM-DD HH:mm:ss"))}&end_date=${encodeURIComponent(f(`${d} ${$}`,"DD/MM/YYYY h:mm A").format("YYYY-MM-DD HH:mm:ss"))}`+u,F=`reporte_${C}_${Date.now()}.${r==="excel"?"xlsx":r}`,K=await g({url:M}).unwrap(),E=document.createElement("a");E.href=K,E.download=F,E.style.display="none",document.body.appendChild(E),E.click(),document.body.removeChild(E)}}catch(a){console.error("Error al descargar el archivo",a)}};return e.jsx(e.Fragment,{children:e.jsxs(nt,{children:[e.jsxs(h,{spacing:1,direction:"row",justifyContent:"space-between",children:[e.jsxs(h,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(S,{variant:"h5",children:D}),e.jsxs(e.Fragment,{children:[e.jsx(ie,{"aria-describedby":te,onClick:le,children:e.jsx(Ze,{})}),e.jsx(de,{id:te,open:ee,anchorEl:J,onClose:oe,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:e.jsx(re,{children:e.jsx(je,{sx:{maxHeight:300,overflowY:"auto"},children:Y.getAllLeafColumns().map(r=>e.jsx(ce,{disablePadding:!0,children:e.jsxs(me,{sx:{cursor:"inherit"},children:[e.jsx($e,{checked:r.getIsVisible(),onChange:()=>{r.getIsVisible()?(r.toggleVisibility(!1),s(Ce({id:r.id,value:null}))):r.toggleVisibility(!0),U(r.id)},id:`switch-${r.id}-id`}),e.jsx(ue,{primary:r.id,sx:{textTransform:"capitalize"}})]})},r.id))})})})]}),e.jsxs(e.Fragment,{children:[e.jsx(ie,{"aria-describedby":z,onClick:t,children:e.jsx(Qe,{})}),e.jsx(de,{id:z,open:y,anchorEl:w,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:e.jsx(re,{children:e.jsxs(h,{spacing:1,p:2,maxHeight:400,minWidth:400,overflow:"hidden",children:[e.jsx(S,{variant:"subtitle1",children:"BÃºsqueda"}),e.jsx(h,{flex:1,spacing:1,overflow:"auto",children:e.jsx(h,{flex:1,spacing:2,overflow:"auto",children:Y.getHeaderGroups().map(r=>e.jsx(b.Fragment,{children:r.headers.map(a=>{var u;return e.jsxs(h,{direction:"row",spacing:2,alignItems:"end",justifyContent:"space-between",children:[e.jsx(S,{variant:"body1",sx:{textTransform:"capitalize"},children:a.id}),!a.isPlaceholder&&a.column.getCanFilter()&&e.jsx(h,{width:300,direction:"row",alignItems:"center",children:e.jsx(Pe,{value:((u=L[a.column.id])==null?void 0:u.value)??"",onChange:M=>{s(Ce({id:a.column.id,value:{id:a.column.id,value:M.target.value}}))},id:`filter-column-by-${a.column.id}`,variant:"standard",fullWidth:!0})})]},a.id)})},r.id))})}),e.jsxs(h,{direction:"row",spacing:1,alignItems:"center",justifyContent:"end",children:[e.jsx(he,{onClick:n,variant:"text",color:"tertiary",size:"medium",children:"Cancelar"}),e.jsx(he,{variant:"contained",color:"primary",size:"medium",type:"submit",onClick:()=>{U(),n()},children:"Buscar"})]})]})})})]})]}),e.jsxs(e.Fragment,{children:[e.jsx(he,{variant:"contained",color:"primary","aria-describedby":G,onClick:ne,startIcon:e.jsx(Te,{}),children:"Descargar"}),e.jsx(de,{id:G,open:T,anchorEl:O,onClose:P,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(re,{children:e.jsxs(je,{children:[e.jsx(ce,{disablePadding:!0,children:e.jsxs(me,{sx:{cursor:"inherit"},onClick:()=>{V({tipo:"excel"})},children:[e.jsx(ye,{children:e.jsx(Je,{})}),e.jsx(ue,{primary:"Descargar Excel"})]})}),e.jsx(ce,{disablePadding:!0,children:e.jsxs(me,{sx:{cursor:"inherit"},onClick:()=>{V({tipo:"csv"})},children:[e.jsx(ye,{children:e.jsx(qe,{})}),e.jsx(ue,{primary:"Descargar CSV"})]})})]})})})]})]}),e.jsx(B,{sx:{mt:1,flex:1,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{component:Xe,sx:{height:"100%",display:"flex",flexDirection:"column",overflowY:"auto"},children:e.jsx(Fe,{sx:{maxWidth:"100%",height:"100%","& .simplebar-content":{width:"100%",height:"100%"}},children:e.jsxs(h,{height:"100%",width:"100%",children:[e.jsxs(Ee,{size:"medium",stickyHeader:!0,"aria-label":"sticky table",sx:r=>({"& .MuiTableCell-root":{borderColor:"divider"},"& tbody tr:hover":{backgroundColor:"tertiary.opacityLight"},"& thead .MuiTableCell-root":{backgroundColor:r.palette.mode==="light"?"#EEEFEF":"#2E4142"}}),children:[e.jsx(Be,{sx:{position:"sticky",top:0,zIndex:1e3,textTransform:"capitalize"},children:Y.getHeaderGroups().map(r=>e.jsx(be,{children:r.headers.map(a=>e.jsx(ve,{colSpan:a.colSpan,children:a.isPlaceholder?null:e.jsx("div",{children:Se(a.column.columnDef.header,a.getContext())})},a.id))},r.id))}),e.jsx(Le,{children:Y.getRowModel().rows.map(r=>e.jsx(be,{children:r.getVisibleCells().map(a=>e.jsx(ve,{children:Se(a.column.columnDef.cell,a.getContext())},a.id))},r.id))})]}),d!==null&&p!==null&&$!==null&&R!==null&&c!==void 0&&v!==void 0&&C!==void 0&&Y.getCoreRowModel().rows.length===0&&e.jsx(B,{sx:{flex:1,display:"grid",placeContent:"center"},children:e.jsx(S,{variant:"body1",children:"Registros no encontrados."})}),(d===null||$===null||R===null||p===null||c===void 0||v===void 0||C===void 0)&&e.jsx(B,{sx:{flex:1,display:"grid",placeContent:"center"},children:e.jsx(S,{variant:"body1",children:"Empieza a filtrar para ver el registro."})})]})})})})]})})},tt=({handleBackButtonClick:o,handleNextButtonClick:i})=>{const{limit:m,register_data:l,maxCursorId:g,prevIdResponse:s}=fe(c=>c.registerStore),d=xe(),p=c=>{d(x({limit:Number(c.target.value)}))};return e.jsx(e.Fragment,{children:e.jsxs(h,{spacing:1,direction:"row",alignItems:"center",justifyContent:"end",px:1,py:.5,sx:{backgroundColor:"custom.trackBackground",borderTopWidth:1,borderTopStyle:"solid",borderTopColor:"divider",borderRadius:"0 0 8px 8px"},children:[e.jsxs(h,{spacing:1,direction:"row",alignItems:"center",children:[e.jsx(S,{color:"textPrimary",variant:"body1",children:"Filas:"}),e.jsxs(ke,{id:"control-select",name:"control-select",value:m,onChange:p,size:"small",inputProps:{"aria-label":"Select RowsPerPage"},SelectDisplayProps:{style:{paddingTop:5,paddingBottom:5}},children:[e.jsx(j,{value:25,children:25}),e.jsx(j,{value:50,children:50}),e.jsx(j,{value:100,children:100})]})]}),e.jsxs(h,{spacing:1,direction:"row",alignItems:"center",children:[e.jsx(ie,{onClick:o,disabled:g===null||(l!=null&&l.meta.prev_id?g<=l.meta.prev_id:!1),"aria-label":"previous page",children:e.jsx(Ae,{})}),e.jsx(ie,{onClick:i,disabled:g===null||s===null,"aria-label":"next page",children:e.jsx(ze,{})})]})]})})},q=Ie(ke)(({theme:o})=>({borderRadius:10,width:"100%",backgroundColor:o.palette.tertiary.opacityDark,"&.Mui-focused":{outline:"none",border:"none",boxShadow:"none"},"&.MuiOutlinedInput-root":{color:o.palette.text.primary,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"},fontWeight:500},"& .MuiSelect-icon":{color:o.palette.text.primary}})),pe=[{value:_.Acceso,name:"Accesos"},{value:_.Energia,name:"Energias"},{value:_.Entrada,name:"Entradas"},{value:_.EstadoCamara,name:"Estados camara"},{value:_.MicroSD,name:"MicroSD"},{value:_.Peticion,name:"Peticiones"},{value:_.Salida,name:"Salidas"},{value:_.Seguridad,name:"Seguridades"},{value:_.Temperatura,name:"Temperaturas"},{value:_.Ticket,name:"Tickets"}],He=[...Array(24).keys()].map(o=>{const i=f().hour(o).startOf("hour");return{value:i.format("h:mm A"),name:i.format("h:mm A")}}),nt=({children:o})=>{const i=xe(),{ctrl_id:m,rgn_id:l,register_type:g,startDate:s,endDate:d,startTime:p,endTime:c,limit:v,prevIdResponse:C,register_data:D,nextId:H,previusId:ae,countDataResponse:R,lastCountData:$}=fe(t=>t.registerStore),{isSuccess:L,data:A}=Oe(),[se]=We(),Y=t=>{i(x({rgn_id:t.target.value,ctrl_id:void 0,register_data:null}))},J=t=>{i(x({ctrl_id:t.target.value,register_data:null}))},X=t=>{const n=pe.find(y=>String(y.value)===String(t.target.value));i(x({register_type_name:n==null?void 0:n.name})),i(we(t.target.value))},le=t=>{i(x({startTime:t.target.value,register_data:null}))},oe=t=>{i(x({endTime:t.target.value,register_data:null}))},ee=()=>{d!==null&&s!==null&&c!==null&&p!==null&&l!==void 0&&m!==void 0&&g!==void 0&&I({ctrl_id:m,start_date:s,end_date:d,end_time:c,start_time:p,type:g,p_action:"next",limit:v,cursor:D==null?void 0:D.meta.next_id})},te=()=>{if(d!==null&&s!==null&&c!==null&&p!==null&&l!==void 0&&m!==void 0&&g!==void 0){const t=C===null?H===null?H:H-1:ae;I({ctrl_id:m,end_date:d,start_date:s,end_time:c,start_time:p,type:g,p_action:"prev",limit:R===0?$:v,cursor:t})}},w=b.useMemo(()=>L&&A?Ge(A,"rgn_id"):{},[L,A]),I=async t=>{try{const{ctrl_id:n,end_date:y,limit:z,start_date:O,type:W,p_action:ne,cursor:P,other_params:T,end_time:G,start_time:U}=t;let V=`/register?type=${W}&ctrl_id=${n}&start_date=${encodeURIComponent(f(`${O} ${U}`,"DD/MM/YYYY h:mm A").format("YYYY-MM-DD HH:mm:ss"))}&end_date=${encodeURIComponent(f(`${y} ${G}`,"DD/MM/YYYY h:mm A").format("YYYY-MM-DD HH:mm:ss"))}&limit=${z}&p_action=${ne}`,r=`/register?type=${W}&ctrl_id=${n}&start_date=${encodeURIComponent(f(`${O} ${U}`,"DD/MM/YYYY h:mm A").format("YYYY-MM-DD HH:mm:ss"))}&end_date=${encodeURIComponent(f(`${y} ${G}`,"DD/MM/YYYY h:mm A").format("YYYY-MM-DD HH:mm:ss"))}&limit=${z}&p_action=${ne}&cursor=${P}`;T&&(V=V+T,r=r+T);const a=await se({url:typeof P=="number"?r:V}).unwrap();i(x({register_data:a})),i(_e(a.meta.prev_id)),i(De(a.meta.next_id)),i(Ye(a.meta.result_count)),P==null&&i(x({maxCursorId:a.meta.prev_id}))}catch(n){i(x({register_data:null})),i(_e(null)),i(De(null)),i(Ye(0)),console.error("Error al obtener registros:",n)}};return b.useEffect(()=>{d!==null&&c!==null&&p!==null&&s!==null&&l!==void 0&&m!==void 0&&g!==void 0&&I({ctrl_id:m,end_date:d,end_time:c,start_time:p,start_date:s,type:g,p_action:"init",limit:v})},[c,d,p,s,l,m,g]),b.useEffect(()=>{d!==null&&c!==null&&s!==null&&p!==null&&l!==void 0&&m!==void 0&&g!==void 0&&C!==null&&I({ctrl_id:m,end_date:d,end_time:c,start_time:p,start_date:s,type:g,p_action:"lim",limit:v,cursor:D==null?void 0:D.meta.prev_id})},[v]),e.jsxs(e.Fragment,{children:[e.jsx(B,{sx:{width:"100%"},children:e.jsx(Fe,{sx:{maxWidth:"100%"},children:e.jsxs(h,{direction:"row",alignItems:"center",spacing:3,paddingBottom:1.5,children:[e.jsxs(h,{direction:"row",spacing:1,alignItems:"center",children:[e.jsxs(h,{width:200,children:[e.jsx(k,{htmlFor:"group_site",sx:{display:"none"},children:"Grupo de sitio"}),e.jsxs(q,{displayEmpty:!0,value:l??"",onChange:Y,inputProps:{id:"group_site"},renderValue:t=>{if(t.length===0)return e.jsx(e.Fragment,{children:"Grupo de sitio"});const n=w[t]?w[t][0]:void 0;return e.jsx(e.Fragment,{children:n==null?void 0:n.region.region})},IconComponent:({...t})=>l?e.jsx(N,{onClick:n=>{n.stopPropagation(),i(x({rgn_id:void 0,ctrl_id:void 0,register_data:null}))}}):e.jsx(Q,{...t}),sx:{width:200},MenuProps:{PaperProps:{style:{maxHeight:200,width:200}}},children:[e.jsx(j,{disabled:!0,value:"",children:e.jsx(e.Fragment,{children:"Grupo de sitio"})}),Object.entries(w).map(([t,n])=>e.jsx(j,{value:t,children:e.jsx(B,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"},children:n[0].region.region})},t))]})]}),e.jsxs(h,{width:200,children:[e.jsx(k,{htmlFor:"site_item",sx:{display:"none"},children:"Sitio"}),e.jsxs(q,{disabled:l===void 0||l==="",displayEmpty:!0,value:m??"",onChange:J,inputProps:{id:"site_item"},renderValue:t=>{if(t.length===0)return e.jsx(e.Fragment,{children:"Sitio"});let n;return l!==void 0&&w[l]&&(n=w[l].find(y=>String(y.ctrl_id)===String(t))),e.jsx(e.Fragment,{children:n==null?void 0:n.nodo})},IconComponent:({...t})=>m?e.jsx(N,{onClick:n=>{n.stopPropagation(),i(x({ctrl_id:void 0,register_data:null}))}}):e.jsx(Q,{...t}),sx:{width:200},MenuProps:{PaperProps:{style:{maxHeight:200,width:200}}},children:[e.jsx(j,{disabled:!0,value:"",children:e.jsx(e.Fragment,{children:"Sitio"})}),l!==void 0&&w[l]&&w[l].map(t=>e.jsx(j,{value:String(t.ctrl_id),children:e.jsx(B,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"},children:t.nodo})},String(t.ctrl_id)))]})]}),e.jsxs(h,{width:200,children:[e.jsx(k,{htmlFor:"register_type_select",sx:{display:"none"},children:"Tipo registro"}),e.jsxs(q,{displayEmpty:!0,value:g??"",onChange:X,inputProps:{id:"register_type_select"},renderValue:t=>{if(t.length===0)return e.jsx(e.Fragment,{children:"Tipo registro"});const n=pe.find(y=>String(y.value)===String(t));return e.jsx(e.Fragment,{children:n?n.name:"No controlado"})},IconComponent:({...t})=>g?e.jsx(N,{onClick:n=>{n.stopPropagation(),i(x({register_type_name:void 0})),i(we(void 0))}}):e.jsx(Q,{...t}),sx:{width:200},MenuProps:{PaperProps:{style:{maxHeight:200,width:200}}},children:[e.jsx(j,{disabled:!0,value:"",children:e.jsx(e.Fragment,{children:"Tipo de registro"})}),pe.map((t,n)=>e.jsx(j,{value:t.value,children:t.name},n))]})]})]}),e.jsxs(h,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(S,{variant:"body1",children:"Desde:"}),e.jsxs(h,{width:200,children:[e.jsx(k,{htmlFor:"statet-date-select-register",sx:{display:"none"},children:"Fecha Inicial"}),e.jsx(Me,{views:["month","year","day"],format:"DD/MM/YYYY",value:s?f(s,"DD/MM/YYYY"):null,onChange:t=>{t&&i(x({startDate:t.format("DD/MM/YYYY"),register_data:null,...d!==null&&c!==null&&f(`${d} ${c}`,"DD/MM/YYYY h:mm A").isBefore(t)&&{endDate:null,endTime:null}}))},maxDate:f(),slotProps:{textField:{size:"medium",id:"statet-date-select-register",sx:t=>({borderRadius:"10px",backgroundColor:t.palette.tertiary.opacityDark,"& .MuiInputBase-root.MuiOutlinedInput-root":{fontWeight:500,color:t.palette.text.primary,border:"none","& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"},boxShadow:"none"},"& .MuiInputBase-input":{minWidth:120}})}}})]}),e.jsxs(h,{width:120,children:[e.jsx(k,{htmlFor:"start-time-select-register",sx:{display:"none"},children:"Hora"}),e.jsxs(q,{disabled:s===null||s==="",displayEmpty:!0,value:p??"",onChange:le,inputProps:{id:"start-time-select-register"},renderValue:t=>t.length===0?e.jsx(e.Fragment,{children:"H"}):e.jsx(e.Fragment,{children:t}),IconComponent:({...t})=>p?e.jsx(N,{onClick:n=>{n.stopPropagation(),i(x({startTime:void 0,register_data:null}))}}):e.jsx(Q,{...t}),sx:{width:120},MenuProps:{PaperProps:{style:{maxHeight:200,width:120}}},children:[e.jsx(j,{disabled:!0,value:"",children:e.jsx(e.Fragment,{children:"Hora"})}),He.map(t=>e.jsx(j,{value:t.value,children:t.name},t.value))]})]})]}),e.jsxs(h,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(S,{variant:"body1",children:"Hasta:"}),e.jsxs(h,{width:200,children:[e.jsx(k,{htmlFor:"end-date-select-register",sx:{display:"none"},children:"Fecha Final"}),e.jsx(Me,{disabled:s===null,views:["month","year","day"],format:"DD/MM/YYYY",minDate:s?f(s,"DD/MM/YYYY").add(1,"hour"):void 0,maxDate:s?f(s,"DD/MM/YYYY").add(1,"year"):f(),value:d?f(d,"DD/MM/YYYY"):null,onChange:t=>{t&&i(x({endDate:t.format("DD/MM/YYYY"),register_data:null}))},slotProps:{textField:{size:"medium",id:"end-date-select-register",sx:t=>({borderRadius:"10px",backgroundColor:t.palette.tertiary.opacityDark,"& .MuiInputBase-root.MuiOutlinedInput-root":{fontWeight:500,color:t.palette.text.primary,border:"none","& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"},boxShadow:"none"},"& .MuiInputBase-input":{minWidth:120}})}}})]}),e.jsxs(h,{width:120,children:[e.jsx(k,{htmlFor:"end-time-select-register",sx:{display:"none"},children:"Hora"}),e.jsxs(q,{disabled:s===null||p===null||d===null,displayEmpty:!0,value:c??"",onChange:oe,inputProps:{id:"end-time-select-register"},renderValue:t=>t.length===0?e.jsx(e.Fragment,{children:"H"}):e.jsx(e.Fragment,{children:t}),IconComponent:({...t})=>c?e.jsx(N,{onClick:n=>{n.stopPropagation(),i(x({endTime:null,register_data:null}))}}):e.jsx(Q,{...t}),sx:{width:120},MenuProps:{PaperProps:{style:{maxHeight:200,width:120}}},children:[e.jsx(j,{disabled:!0,value:"",children:e.jsx(e.Fragment,{children:"Hora"})}),He.map(t=>e.jsx(j,{value:t.value,children:t.name},t.value))]})]})]})]})})}),e.jsxs(h,{flex:1,overflow:"hidden",children:[o,e.jsx(tt,{handleBackButtonClick:te,handleNextButtonClick:ee})]})]})};export{ot as R,He as l,pe as r};
