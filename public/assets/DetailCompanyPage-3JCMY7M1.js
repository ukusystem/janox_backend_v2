import{c as H,j as e,u as X,a as F,a$ as N,dP as Z,dQ as xe,dR as Y,r as f,T as i,E as y,ac as L,p as E,dS as ue,dT as he,dU as Q,dV as ee,B as _,I as k,ar as R,dW as pe,dX as q,bB as z,bC as G,bD as $,n as me,l as w,A as ge,dY as je,dZ as fe,bE as te,d_ as Ce,d$ as be,aJ as ye,dL as ve,h as A,i as O,e0 as De,e1 as We,e2 as Se,e3 as _e,aS as Ee,w as re,D as ae,S as B,f as Ie,e4 as Le,e5 as Te,aF as J}from"./index-B2MwQ28r.js";import{G as n,g as M,S as Ve,D as se,M as we,P as K}from"./SearchIcon-nGvQXR5y.js";import{A as Me,D as Pe}from"./DeleteIcon-6yAmFfzU.js";import{E as ie}from"./EditIcon-Bx0s_9zJ.js";import{E as ke,D as Ue}from"./EditCompany-BCC15ncL.js";import{F as Be,A as Ae,D as ne,a as oe}from"./DialogModel-CiYTiKbz.js";import{D as Oe}from"./Drawer-CdxFpvnw.js";import{C as Fe}from"./Card-Czpwx8nj.js";import{C as Re}from"./CardContent-CM-ZmfFR.js";const He=H(e.jsx("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2M9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12m3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5zm1-9h-2V4h2zm5 7.5h-4V15h4zm0-3h-4V12h4z"}),"Badge"),Ne=H(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),le=H([e.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),e.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"PhotoCamera"),Ze=({onClose:h})=>{const o=X(),p=F(g=>g.personalForm.accountData),u=F(g=>g.personalForm.personalData),{co_id:C}=N(),{data:v,isError:D,isLoading:t}=Z(),[d,{isLoading:s,isError:m}]=xe(),[S,{isLoading:l}]=Y(),[r,c]=f.useState(""),a=g=>{o(he({[g.target.name]:g.target.value}))},W=g=>!g.usuario||!g.contraseña||!g.repetirContraseña||!g.rol?{valid:!1,error:"Todos los campos deben estar completos."}:g.contraseña!==g.repetirContraseña?{valid:!1,error:"Las contraseñas no coinciden."}:{valid:!0},j=async()=>{c("");try{const g=await d({data:u,co_id:Number(C)}).unwrap();if(!W(p).valid){o(Q()),h();return}const x={usuario:p.usuario,contraseña:p.contraseña,rl_id:Number(p.rol),p_id:g.id};await S(x).unwrap(),o(Q()),h()}catch(g){c(M(g))}};return e.jsxs(n,{container:!0,spacing:2,children:[e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:g=>({mt:2,mb:.5,color:g.palette.text.primary,fontWeight:500}),children:"Rol"}),e.jsx(y,{name:"rol",fullWidth:!0,select:!0,value:p.rol,onChange:a,children:v&&!t&&!D&&(v==null?void 0:v.map(g=>e.jsx(L,{value:g.rl_id,children:g.rol},g.rl_id)))})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:g=>({mt:2,mb:.5,color:g.palette.text.primary,fontWeight:500}),children:"Usuario"}),e.jsx(y,{fullWidth:!0,variant:"outlined",name:"usuario",value:p.usuario,onChange:a})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:g=>({mt:2,mb:.5,color:g.palette.text.primary,fontWeight:500}),children:"Contraseña"}),e.jsx(y,{fullWidth:!0,variant:"outlined",type:"password",name:"contraseña",value:p.contraseña,onChange:a})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:g=>({mt:2,mb:.5,color:g.palette.text.primary,fontWeight:500}),children:"Repetir contraseña"}),e.jsx(y,{fullWidth:!0,variant:"outlined",type:"password",name:"repetirContraseña",value:p.repetirContraseña,onChange:a})]}),e.jsx(n,{item:!0,xs:6,children:e.jsx(i,{variant:"body2",sx:g=>({color:g.palette.text.disabled}),children:"Puedes omitir este paso"})}),m&&e.jsx(n,{item:!0,xs:12,children:e.jsx(i,{variant:"body2",sx:g=>({color:g.palette.error.light}),children:r})}),e.jsxs(n,{item:!0,xs:12,textAlign:"right",children:[e.jsx(E,{onClick:()=>o(ue()),children:"Volver"}),e.jsx(E,{onClick:j,variant:"contained",sx:{ml:2},disabled:l||s,children:"Crear"})]})]})},ze=()=>{const h=X(),o=F(c=>c.personalForm.personalData),p=f.useRef(null),u=c=>{const{name:a,value:W}=c.target;h(q({[c.target.name]:c.target.value})),m(j=>({...j,[a]:typeof W=="string"?!W.trim():!W}))},[C,v]=f.useState(null),{data:D,isError:t,isLoading:d}=ee(),[s,m]=f.useState({nombres:!1,apellidos:!1,cargo:!1,dni:!1,telefono:!1,email:!1}),S=()=>{const c={nombres:!o.nombres.trim(),apellidos:!o.apellidos.trim(),cargo:!o.cargo,dni:!o.dni.trim(),telefono:!o.telefono.trim(),email:!o.email.trim()};return m(c),!Object.values(c).some(a=>a)};f.useEffect(()=>{if(o.foto){const c=URL.createObjectURL(o.foto);return v(c),()=>URL.revokeObjectURL(c)}},[o.foto]);const l=c=>{var W;const a=(W=c.target.files)==null?void 0:W[0];a&&h(q({foto:a}))},r=()=>{var c;(c=p.current)==null||c.click()};return e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{item:!0,xs:12,children:e.jsxs(_,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:2,children:[e.jsx("input",{type:"file",accept:"image/*",ref:p,style:{display:"none"},onChange:l}),e.jsxs(k,{onClick:r,children:[e.jsx(R,{src:C||void 0,sx:{width:100,height:100}}),e.jsx(le,{sx:{position:"absolute",bottom:0,right:0}})]}),e.jsx(i,{variant:"caption",color:"textSecondary",children:"Toca para cambiar foto"})]})}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:c=>({mt:2,mb:.5,color:c.palette.text.primary,fontWeight:500}),children:"Nombres*"}),e.jsx(y,{fullWidth:!0,variant:"outlined",name:"nombres",value:o.nombres,onChange:u,error:s.nombres,helperText:s.nombres?"Este campo es obligatorio":""})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:c=>({mt:2,mb:.5,color:c.palette.text.primary,fontWeight:500}),children:"Apellidos*"}),e.jsx(y,{fullWidth:!0,variant:"outlined",name:"apellidos",value:o.apellidos,onChange:u,error:s.apellidos,helperText:s.apellidos?"Este campo es obligatorio":""})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:c=>({mt:2,mb:.5,color:c.palette.text.primary,fontWeight:500}),children:"Cargo*"}),e.jsx(y,{name:"cargo",variant:"outlined",fullWidth:!0,select:!0,value:o.cargo,onChange:u,error:s.cargo,helperText:s.cargo?"Este campo es obligatorio":"",children:D&&!d&&!t&&(D==null?void 0:D.map(c=>e.jsx(L,{value:c.c_id,children:c.cargo},c.c_id)))})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:c=>({mt:2,mb:.5,color:c.palette.text.primary,fontWeight:500}),children:"DNI/C.E.*"}),e.jsx(y,{name:"dni",variant:"outlined",fullWidth:!0,value:o.dni,onChange:u,error:s.dni,helperText:s.dni?"Este campo es obligatorio":""})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:c=>({mt:2,mb:.5,color:c.palette.text.primary,fontWeight:500}),children:"Teléfono*"}),e.jsx(y,{name:"telefono",variant:"outlined",fullWidth:!0,value:o.telefono,onChange:u,error:s.telefono,helperText:s.telefono?"Este campo es obligatorio":""})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:c=>({mt:2,mb:.5,color:c.palette.text.primary,fontWeight:500}),children:"Correo electrónico*"}),e.jsx(y,{variant:"outlined",name:"email",fullWidth:!0,value:o.email,onChange:u,error:s.email,helperText:s.email?"Este campo es obligatorio":""})]}),e.jsx(n,{item:!0,xs:6,children:e.jsx(i,{variant:"body2",sx:c=>({mt:2,color:c.palette.text.disabled}),children:"*Campos obligatorios de completar"})}),e.jsx(n,{item:!0,xs:12,textAlign:"right",children:e.jsx(E,{onClick:()=>{S()&&h(pe())},variant:"contained",children:"Siguiente"})})]})},Ge=({open:h,onClose:o})=>{const p=F(u=>u.personalForm.step);return e.jsxs(z,{open:h,onClose:o,fullWidth:!0,maxWidth:"sm",children:[e.jsx(G,{children:"Crear personal"}),e.jsx($,{children:p===1?e.jsx(ze,{}):e.jsx(Ze,{onClose:o})})]})},$e=({onSearchChange:h})=>{const[o,p]=f.useState(""),[u,C]=f.useState(!1),v=()=>C(!0),D=()=>C(!1),t=d=>{const s=d.target.value;p(s.trim()),h(s.trim())};return e.jsxs(me,{sx:{width:"100%",height:"100%"},children:[e.jsxs(w,{direction:"row",spacing:1,alignItems:"center",height:"auto",paddingBottom:1.5,justifyContent:"space-between",children:[e.jsx(w,{direction:"row",spacing:1,alignItems:"center",height:"auto",paddingBottom:1.5,children:e.jsx(w,{spacing:2,sx:{width:250},children:e.jsx(y,{value:o,onChange:t,placeholder:"Buscar personal",fullWidth:!0,variant:"outlined",InputProps:{startAdornment:e.jsx(Ve,{}),endAdornment:o&&e.jsx(ge,{onClick:()=>{p(""),h("")}})},sx:{borderRadius:"25px","& .MuiOutlinedInput-root":{borderRadius:"25px",paddingRight:"10px"}}})})}),e.jsx(E,{variant:"contained",color:"primary",size:"medium",sx:{minWidth:140,whiteSpace:"nowrap"},onClick:v,children:"Crear personal..."})]}),e.jsx(Ge,{onClose:D,open:u})]})},Qe=({initialData:h,id:o,onClose:p})=>{const[u,C]=f.useState(h),[v,D]=f.useState(null),t=f.useRef(null),[d,s]=f.useState(""),{co_id:m}=N(),{data:S,isError:l,isLoading:r}=ee(),[c,{isLoading:a}]=je(),[W,j]=f.useState({nombres:!1,apellidos:!1,cargo:!1,dni:!1,telefono:!1,email:!1}),g=()=>{const b={nombres:!u.nombres.trim(),apellidos:!u.apellidos.trim(),cargo:!u.cargo,dni:!u.dni.trim(),telefono:!u.telefono.trim(),email:!u.email.trim()};return j(b),!Object.values(b).some(V=>V)},I=async()=>{if(g())try{const{foto:b,...V}=u,P={...V,...b instanceof File?{foto:b}:{}},U={id:o,data:P,co_id:Number(m)};await c(U).unwrap(),p()}catch(b){s(M(b))}};f.useEffect(()=>{if(u.foto)if(typeof u.foto=="string")D(u.foto);else{const b=URL.createObjectURL(u.foto);return D(b),()=>URL.revokeObjectURL(b)}},[u.foto]);const x=b=>{var P;const V=(P=b.target.files)==null?void 0:P[0];V&&C(U=>({...U,foto:V}))},T=b=>{const{name:V,value:P}=b.target;C(U=>({...U,[V]:P}))},de=()=>{var b;(b=t.current)==null||b.click()};return e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{item:!0,xs:12,children:e.jsxs(_,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",mt:2,children:[e.jsx("input",{type:"file",accept:"image/*",ref:t,style:{display:"none"},onChange:x}),e.jsxs(k,{onClick:de,children:[e.jsx(R,{src:v||void 0,sx:{width:100,height:100}}),e.jsx(le,{sx:{position:"absolute",bottom:0,right:0}})]}),e.jsx(i,{variant:"caption",color:"textSecondary",children:"Toca para cambiar foto"})]})}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:b=>({mt:2,mb:.5,color:b.palette.text.primary,fontWeight:500}),children:"Nombres*"}),e.jsx(y,{fullWidth:!0,variant:"outlined",name:"nombres",value:u.nombres,onChange:T,error:W.nombres,helperText:W.nombres?"Este campo es obligatorio":""})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:b=>({mt:2,mb:.5,color:b.palette.text.primary,fontWeight:500}),children:"Apellidos*"}),e.jsx(y,{fullWidth:!0,variant:"outlined",name:"apellidos",value:u.apellidos,onChange:T,error:W.apellidos,helperText:W.apellidos?"Este campo es obligatorio":""})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:b=>({mt:2,mb:.5,color:b.palette.text.primary,fontWeight:500}),children:"Cargo*"}),e.jsx(y,{name:"cargo",variant:"outlined",fullWidth:!0,select:!0,value:u.cargo,onChange:T,error:W.cargo,helperText:W.cargo?"Este campo es obligatorio":"",children:S&&!r&&!l&&(S==null?void 0:S.map(b=>e.jsx(L,{value:b.c_id,children:b.cargo},b.c_id)))})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:b=>({mt:2,mb:.5,color:b.palette.text.primary,fontWeight:500}),children:"DNI/C.E.*"}),e.jsx(y,{name:"dni",variant:"outlined",fullWidth:!0,value:u.dni,onChange:T,error:W.dni,helperText:W.dni?"Este campo es obligatorio":""})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:b=>({mt:2,mb:.5,color:b.palette.text.primary,fontWeight:500}),children:"Teléfono*"}),e.jsx(y,{name:"telefono",variant:"outlined",fullWidth:!0,value:u.telefono,onChange:T,error:W.telefono,helperText:W.telefono?"Este campo es obligatorio":""})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:b=>({mt:2,mb:.5,color:b.palette.text.primary,fontWeight:500}),children:"Correo electrónico*"}),e.jsx(y,{variant:"outlined",name:"email",fullWidth:!0,value:u.email,onChange:T,error:W.email,helperText:W.email?"Este campo es obligatorio":""})]}),e.jsx(n,{item:!0,xs:6,children:e.jsx(i,{variant:"body2",sx:b=>({mt:2,color:b.palette.text.disabled}),children:"*Campos obligatorios de completar"})}),d&&e.jsx(n,{item:!0,xs:12,children:e.jsx(i,{variant:"body2",sx:b=>({color:b.palette.error.light}),children:d})}),e.jsx(n,{item:!0,xs:12,textAlign:"right",children:e.jsx(E,{variant:"contained",onClick:I,disabled:a,children:"Guardar cambios"})})]})},qe=({openDialog:h,handleCloseDialog:o,name:p,id:u,lastName:C})=>{const[v,D]=f.useState(""),[t,d]=f.useState(""),[s,{isLoading:m}]=fe();console.log(u);const S=async()=>{if(v===p)try{await s({id:u}),t||o(),o()}catch(l){d(M(l))}else d("El nombre no coincide. Intenta de nuevo.")};return e.jsxs(z,{open:h,onClose:o,sx:{"& .MuiDialogPaper-root":{borderRadius:"24px !important"}},onClick:l=>l.stopPropagation(),children:[e.jsx(_,{display:"flex",justifyContent:"center",mt:2,children:e.jsx("img",{src:se,alt:"Eliminar icono",style:{width:48,height:48}})}),e.jsxs(G,{sx:l=>({...l.typography.h5,textAlign:"center",color:l.palette.text.primary}),children:["¿Estás seguro de eliminar a ",p," ",C,"?"]}),e.jsxs($,{children:[e.jsxs(i,{sx:l=>({...l.typography.body2,textAlign:"center",color:l.palette.text.secondary}),children:["Al eliminar a ",p,", también se borrará la cuenta y tarjeta asignada al personal"]}),e.jsxs(i,{sx:l=>({marginTop:2,color:l.palette.text.primary}),children:['Para confirmar, escribe: "',p,'"']}),e.jsx(y,{fullWidth:!0,margin:"dense",variant:"outlined",placeholder:"Escribe el nombre del personal",value:v,onChange:l=>{l.stopPropagation(),D(l.target.value),d("")},error:!!t,helperText:t}),t&&e.jsx(n,{item:!0,xs:12,children:e.jsx(i,{variant:"body2",sx:l=>({color:l.palette.error.light}),children:t})})]}),e.jsxs(te,{children:[e.jsx(E,{onClick:o,color:"inherit",sx:{"&:hover":{backgroundColor:l=>l.palette.tertiary.opacityLighter}},children:"Cancelar"}),e.jsx(E,{onClick:S,color:"error",disabled:v!==p||m,variant:"contained",sx:{"&:hover":{backgroundColor:l=>l.palette.error.light},"&:disabled":{backgroundColor:l=>l.palette.action.disabledBackground}},children:"Eliminar"})]})]})},Je=({onClose:h,id:o})=>{const{data:p,isLoading:u}=Z(),[C,{isLoading:v}]=Y(),[D,t]=f.useState(""),[d,s]=f.useState({rol:"",usuario:"",contraseña:"",repetirContraseña:""}),[m,S]=f.useState({rol:"",usuario:"",contraseña:"",repetirContraseña:""}),l=a=>{t(""),s({...d,[a.target.name]:a.target.value}),S({...m,[a.target.name]:""})},r=()=>{const a={rol:"",usuario:"",contraseña:"",repetirContraseña:""};let W=!0;for(const j in d)d[j]||(a[j]="Este campo es obligatorio",W=!1);return d.contraseña!==d.repetirContraseña&&(a.repetirContraseña="Las contraseñas no coinciden",W=!1),S(a),W},c=async()=>{if(r()){t("");try{const a={usuario:d.usuario,contraseña:d.contraseña,rl_id:Number(d.rol),p_id:o};await C(a).unwrap(),h()}catch(a){t(M(a))}}};return e.jsxs(n,{container:!0,spacing:2,direction:"column",children:[e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:a=>({mt:2,mb:.5,color:a.palette.text.primary,fontWeight:500}),children:"Rol*"}),e.jsx(y,{name:"rol",select:!0,fullWidth:!0,value:d.rol,onChange:l,error:!!m.rol,helperText:m.rol,children:p&&!u&&p.map(a=>e.jsx(L,{value:a.rl_id,children:a.rol},a.rl_id))})]}),e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:a=>({mt:2,mb:.5,color:a.palette.text.primary,fontWeight:500}),children:"Usuario*"}),e.jsx(y,{name:"usuario",fullWidth:!0,value:d.usuario,onChange:l,error:!!m.usuario,helperText:m.usuario})]}),e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:a=>({mt:2,mb:.5,color:a.palette.text.primary,fontWeight:500}),children:"Contraseña*"}),e.jsx(y,{type:"password",name:"contraseña",fullWidth:!0,value:d.contraseña,onChange:l,error:!!m.contraseña,helperText:m.contraseña})]}),e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:a=>({mt:2,mb:.5,color:a.palette.text.primary,fontWeight:500}),children:"Repetir contraseña*"}),e.jsx(y,{type:"password",name:"repetirContraseña",fullWidth:!0,value:d.repetirContraseña,onChange:l,error:!!m.repetirContraseña,helperText:m.repetirContraseña})]}),D&&e.jsx(n,{item:!0,xs:12,children:e.jsx(i,{variant:"body2",sx:a=>({color:a.palette.error.light}),children:D})}),e.jsxs(n,{item:!0,xs:8,textAlign:"right",children:[e.jsx(E,{variant:"outlined",onClick:h,children:"Volver"}),e.jsx(E,{variant:"contained",sx:{ml:2},onClick:c,disabled:v,children:"Crear"})]})]})},Ke=({onClose:h,id:o})=>{const[p,{isLoading:u}]=Ce(),[C,v]=f.useState(""),{data:D,isLoading:t}=be(),[d,s]=f.useState({serie:"",administrador:!1,p_id:o,ea_id:""}),[m,S]=f.useState({serie:"",administrador:"",ea_id:""}),l=a=>{v(""),s({...d,[a.target.name]:a.target.value}),S({...m,[a.target.name]:""})},r=()=>{const a={serie:"",administrador:"",ea_id:""};let W=!0;for(const j in d)j!=="administrador"&&!d[j]&&(a[j]="Este campo es obligatorio",W=!1);return S(a),W},c=async()=>{if(v(""),!!r())try{const a={serie:Number(d.serie),administrador:d.administrador===!0?1:0,p_id:Number(o),ea_id:Number(d.ea_id)};await p(a).unwrap(),h()}catch(a){v(M(a))}};return e.jsxs(n,{container:!0,spacing:2,direction:"column",children:[e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:a=>({mt:2,mb:.5,color:a.palette.text.primary,fontWeight:500}),children:"Número*"}),e.jsx(y,{name:"serie",fullWidth:!0,value:d.serie,onChange:l,error:!!m.serie,helperText:m.serie})]}),e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:a=>({mt:2,mb:.5,color:a.palette.text.primary,fontWeight:500}),children:"Tipo*"}),e.jsx(y,{name:"ea_id",select:!0,fullWidth:!0,value:d.ea_id,onChange:l,error:!!m.ea_id,helperText:m.ea_id,children:D&&!t&&D.map(a=>e.jsx(L,{value:a.ea_id,children:a.nombre},a.ea_id))})]}),e.jsx(n,{item:!0,xs:8,children:e.jsx(Be,{control:e.jsx(ye,{checked:d.administrador,onChange:a=>s({...d,administrador:a.target.checked})}),label:e.jsxs("div",{children:[e.jsx(i,{sx:{fontWeight:500},children:"Ingreso libre"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"El personal podrá ingresar al sitio libremente las veces que desee"})]})})}),C&&e.jsx(n,{item:!0,xs:12,children:e.jsx(i,{variant:"body2",sx:a=>({color:a.palette.error.light}),children:C})}),e.jsxs(n,{item:!0,xs:8,textAlign:"right",children:[e.jsx(E,{onClick:h,children:"Cancelar"}),e.jsx(E,{variant:"contained",sx:{ml:2},onClick:c,disabled:u,children:"Crear"})]})]})},ce=({worker:h,id:o,account:p,access:u})=>{const[C,v]=f.useState(null),[D,t]=f.useState(!1),[d,s]=f.useState(null),[m,S]=f.useState(""),[l,r]=f.useState("xs"),[c,a]=f.useState(!1),W=x=>{x.stopPropagation(),v(x.currentTarget)},j=()=>{v(null),t(!1)},g=()=>{v(null)},I=()=>{a(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(k,{onClick:W,children:e.jsx(we,{})}),e.jsxs(ve,{anchorEl:C,open:!!C,onClose:g,children:[e.jsxs(L,{onClick:x=>{x.stopPropagation(),S("Editar personal"),s(e.jsx(Qe,{initialData:h,id:o,onClose:I})),r("sm"),a(!0)},children:[e.jsx(A,{children:e.jsx(ie,{fontSize:"small"})}),e.jsx(O,{primary:"Editar datos"})]}),p===0&&e.jsxs(L,{onClick:x=>{x.stopPropagation(),S("Crear cuenta"),r("xs"),s(e.jsx(Je,{id:o,onClose:I})),a(!0)},children:[e.jsx(A,{children:e.jsx(Ae,{fontSize:"small"})}),e.jsx(O,{primary:"Crear cuenta"})]}),u===0&&e.jsxs(L,{onClick:x=>{x.stopPropagation(),S("Crear tarjeta"),r("xs"),s(e.jsx(Ke,{id:o,onClose:I})),a(!0)},children:[e.jsx(A,{children:e.jsx(He,{fontSize:"small"})}),e.jsx(O,{primary:"Crear tarjeta"})]}),e.jsxs(L,{onClick:x=>{x.stopPropagation(),t(!0),v(null)},children:[e.jsx(A,{children:e.jsx(ne,{fontSize:"small"})}),e.jsx(O,{primary:"Eliminar"})]})]}),e.jsx(qe,{id:o,lastName:h.apellidos,name:h.nombres,handleCloseDialog:j,openDialog:D}),e.jsx(oe,{Title:m,actions:!1,children:d,handleCloseDialog:I,openDialog:c,width:l})]})},Xe=({onClose:h,id:o})=>{const{data:p,isLoading:u}=Z(),{data:C,isLoading:v}=De({id:o}),[D,t]=f.useState(""),[d,{isLoading:s}]=We();f.useEffect(()=>{C&&S({rol:C.rl_id.toString(),usuario:C==null?void 0:C.usuario,contraseña:"",repetirContraseña:""})},[C]);const[m,S]=f.useState({rol:"",usuario:"",contraseña:"",repetirContraseña:""}),[l,r]=f.useState({rol:"",usuario:"",contraseña:"",repetirContraseña:""}),c=j=>{t(""),S({...m,[j.target.name]:j.target.value}),r({...l,[j.target.name]:""})},a=()=>{const j={rol:"",usuario:"",contraseña:"",repetirContraseña:""};let g=!0;for(const I in m)m[I]||(j[I]="Este campo es obligatorio",g=!1);return m.contraseña!==m.repetirContraseña&&(j.repetirContraseña="Las contraseñas no coinciden",g=!1),r(j),g},W=async()=>{if(a())try{const j={usuario:m.usuario,contraseña:m.contraseña,rl_id:Number(m.rol),p_id:(C==null?void 0:C.p_id)||0};await d({data:j,id:o}).unwrap(),h()}catch(j){t(M(j))}};return e.jsxs(n,{container:!0,spacing:2,direction:"column",children:[e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:j=>({mt:2,mb:.5,color:j.palette.text.primary,fontWeight:500}),children:"Rol*"}),e.jsx(y,{name:"rol",select:!0,fullWidth:!0,value:m.rol,onChange:c,error:!!l.rol,helperText:l.rol,children:p&&!u&&p.map(j=>e.jsx(L,{value:j.rl_id,children:j.rol},j.rl_id))})]}),e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:j=>({mt:2,mb:.5,color:j.palette.text.primary,fontWeight:500}),children:"Usuario*"}),e.jsx(y,{name:"usuario",fullWidth:!0,value:m.usuario,onChange:c,error:!!l.usuario,helperText:l.usuario})]}),e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:j=>({mt:2,mb:.5,color:j.palette.text.primary,fontWeight:500}),children:"Contraseña*"}),e.jsx(y,{type:"password",name:"contraseña",fullWidth:!0,value:m.contraseña,onChange:c,error:!!l.contraseña,helperText:l.contraseña})]}),e.jsxs(n,{item:!0,xs:8,children:[e.jsx(i,{sx:j=>({mt:2,mb:.5,color:j.palette.text.primary,fontWeight:500}),children:"Repetir contraseña*"}),e.jsx(y,{type:"password",name:"repetirContraseña",fullWidth:!0,value:m.repetirContraseña,onChange:c,error:!!l.repetirContraseña,helperText:l.repetirContraseña})]}),D&&e.jsx(n,{item:!0,xs:12,children:e.jsx(i,{variant:"body2",sx:j=>({color:j.palette.error.light}),children:D})}),e.jsxs(n,{item:!0,xs:8,textAlign:"right",children:[e.jsx(E,{onClick:h,children:"Volver"}),e.jsx(E,{variant:"contained",sx:{ml:2},onClick:W,disabled:v||s,children:"Crear"})]})]})},Ye=({openDialog:h,handleCloseDialog:o,name:p,id:u,p_id:C,onClose:v})=>{const[D,t]=f.useState(""),[d,s]=f.useState(""),[m,{isLoading:S}]=Se(),l=async()=>{if(D===p)try{const r=await m({id:u,p_id:C});d||(console.log(r.data),v==null||v(),o())}catch(r){s(M(r))}else s("El nombre no coincide. Intenta de nuevo.")};return e.jsxs(z,{open:h,onClose:o,sx:{"& .MuiDialogPaper-root":{borderRadius:"24px !important"}},onClick:r=>r.stopPropagation(),children:[e.jsx(_,{display:"flex",justifyContent:"center",mt:2,children:e.jsx("img",{src:se,alt:"Eliminar icono",style:{width:48,height:48}})}),e.jsxs(G,{sx:r=>({...r.typography.h5,textAlign:"center",color:r.palette.text.primary}),children:["¿Estás seguro de eliminar la cuenta ",p,"?"]}),e.jsxs($,{children:[e.jsxs(i,{sx:r=>({...r.typography.body2,textAlign:"center",color:r.palette.text.secondary}),children:["Al eliminar la cuenta ",p,", ya no podrá ingresar al sistema"]}),e.jsxs(i,{sx:r=>({marginTop:2,color:r.palette.text.primary}),children:['Para confirmar, escribe: "',p,'"']}),e.jsx(y,{fullWidth:!0,margin:"dense",variant:"outlined",placeholder:"Escribe el nombre del personal",value:D,onChange:r=>{t(r.target.value),s("")},error:!!d,helperText:d}),d&&e.jsx(n,{item:!0,xs:12,children:e.jsx(i,{variant:"body2",sx:r=>({color:r.palette.error.light}),children:d})})]}),e.jsxs(te,{children:[e.jsx(E,{onClick:o,color:"inherit",sx:{"&:hover":{backgroundColor:r=>r.palette.tertiary.opacityLighter}},children:"Cancelar"}),e.jsx(E,{onClick:l,color:"error",disabled:D!==p||S,variant:"contained",sx:{"&:hover":{backgroundColor:r=>r.palette.error.light},"&:disabled":{backgroundColor:r=>r.palette.action.disabledBackground}},children:"Eliminar"})]})]})},et=({open:h,onClose:o,workerId:p})=>{const[u,C]=f.useState(!1),[v,D]=f.useState(!1),{data:t,isError:d,isFetching:s}=_e({co_id:p},{skip:!p}),m=()=>{C(!1)},S=()=>{D(!1)};Ee.useEffect(()=>{d&&!s&&h&&o()},[d,s,h,o]);const l=r=>{if(!r)return"";const c=r.slice(0,3),a="*".repeat(r.length-3);return c+a};return e.jsxs(Oe,{anchor:"right",open:h,onClose:o,sx:{zIndex:r=>r.zIndex.drawer+1},children:[e.jsxs(_,{sx:{width:400,p:3},children:[e.jsx(i,{variant:"h5",gutterBottom:!0,children:"Información"}),t&&e.jsx(_,{sx:{position:"absolute",top:8,right:8},children:e.jsx(ce,{worker:{nombres:String(t.nombre),apellidos:String(t.apellido),cargo:String(t.c_id),dni:String(t.dni),telefono:String(t.telefono),email:String(t.correo),foto:t.foto?String(t.foto):""},id:p||0,account:(t==null?void 0:t.cantidad_cuentas)||0,access:(t==null?void 0:t.cantidad_tarjetas)||0})}),e.jsx(_,{display:"flex",justifyContent:"center",my:2,children:e.jsx(R,{src:`${re}/${t==null?void 0:t.foto}`,alt:t==null?void 0:t.nombre,sx:{width:100,height:100}})}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:r=>({mt:2,mb:.5,color:r.palette.text.primary,fontWeight:500}),children:"Nombres"}),e.jsx(y,{fullWidth:!0,variant:"outlined",name:"nombres",value:t==null?void 0:t.nombre,InputProps:{readOnly:!0},inputProps:{tabIndex:-1},onFocus:r=>r.preventDefault()})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:r=>({mt:2,mb:.5,color:r.palette.text.primary,fontWeight:500}),children:"Apellidos"}),e.jsx(y,{fullWidth:!0,variant:"outlined",name:"apellidos",value:t==null?void 0:t.apellido,InputProps:{readOnly:!0},inputProps:{tabIndex:-1},onFocus:r=>r.preventDefault()})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:r=>({mt:2,mb:.5,color:r.palette.text.primary,fontWeight:500}),children:"Cargo"}),e.jsx(y,{fullWidth:!0,variant:"outlined",name:"cargo",value:t==null?void 0:t.cargo_nombre,InputProps:{readOnly:!0},inputProps:{tabIndex:-1},onFocus:r=>r.preventDefault()})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:r=>({mt:2,mb:.5,color:r.palette.text.primary,fontWeight:500}),children:"DNI/C.E."}),e.jsx(y,{name:"dni",variant:"outlined",fullWidth:!0,value:t==null?void 0:t.dni,InputProps:{readOnly:!0},inputProps:{tabIndex:-1},onFocus:r=>r.preventDefault()})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:r=>({mt:2,mb:.5,color:r.palette.text.primary,fontWeight:500}),children:"Teléfono*"}),e.jsx(y,{name:"telefono",variant:"outlined",fullWidth:!0,value:t==null?void 0:t.telefono,InputProps:{readOnly:!0},inputProps:{tabIndex:-1},onFocus:r=>r.preventDefault()})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:r=>({mt:2,mb:.5,color:r.palette.text.primary,fontWeight:500}),children:"Correo electrónico*"}),e.jsx(y,{variant:"outlined",name:"email",fullWidth:!0,value:t==null?void 0:t.correo,InputProps:{readOnly:!0},inputProps:{tabIndex:-1},onFocus:r=>r.preventDefault()})]})]}),e.jsx(ae,{sx:{my:3}}),(t==null?void 0:t.cantidad_cuentas)!==0&&e.jsxs(e.Fragment,{children:[e.jsxs(_,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(i,{variant:"h5",fontWeight:600,children:"Cuenta"}),e.jsxs(_,{children:[e.jsx(k,{"aria-label":"Eliminar",size:"small",onClick:()=>{D(!0)},children:e.jsx(ne,{fontSize:"small"})}),e.jsx(k,{"aria-label":"Editar",size:"small",onClick:()=>{C(!0)},children:e.jsx(Ne,{fontSize:"small"})})]})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:r=>({mt:2,mb:.5,color:r.palette.text.primary,fontWeight:500}),children:"Usuario"}),e.jsx(y,{name:"usuario",variant:"outlined",fullWidth:!0,value:t?l(t==null?void 0:t.usuario):"",InputProps:{readOnly:!0},inputProps:{tabIndex:-1},onFocus:r=>r.preventDefault()})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx(i,{sx:r=>({mt:2,mb:.5,color:r.palette.text.primary,fontWeight:500}),children:"Contraseña"}),e.jsx(y,{type:"password",name:"password",variant:"outlined",fullWidth:!0,value:"ppperesdddppp",InputProps:{readOnly:!0},inputProps:{tabIndex:-1},onFocus:r=>r.preventDefault()})]})]}),(t==null?void 0:t.cantidad_tarjetas)!==0&&e.jsx(i,{variant:"subtitle1",sx:r=>({mt:2,mb:.5,color:r.palette.text.primary,fontWeight:500,textDecoration:"underline"}),children:(t==null?void 0:t.cantidad_tarjetas)===1?"1 tarjeta":`${t==null?void 0:t.cantidad_tarjetas} tarjetas`})]}),e.jsx(oe,{Title:"Editar cuenta",actions:!1,children:e.jsx(Xe,{id:Number(t==null?void 0:t.u_id)||0,onClose:m}),handleCloseDialog:m,openDialog:u,width:"xs"}),t&&t.u_id&&e.jsx(Ye,{onClose:o,id:Number(t==null?void 0:t.u_id)||0,name:(t==null?void 0:t.usuario)||"",p_id:p||0,handleCloseDialog:S,openDialog:v})]})},tt=({...h})=>e.jsx(B,{...h,viewBox:"0 0 24 24",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",children:[e.jsx("mask",{id:"mask0_8639_39542",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"21",height:"21",children:e.jsx("rect",{x:"0.599609",y:"0.812988",width:"20",height:"20",fill:"#D9D9D9"})}),e.jsx("g",{mask:"url(#mask0_8639_39542)",children:e.jsx("path",{d:"M4.76628 15.688C5.51628 14.9519 6.3878 14.372 7.38086 13.9484C8.37392 13.5248 9.44683 13.313 10.5996 13.313C11.7524 13.313 12.8253 13.5248 13.8184 13.9484C14.8114 14.372 15.6829 14.9519 16.4329 15.688V4.97965H4.76628V15.688ZM10.5996 11.6463C11.4052 11.6463 12.0927 11.3616 12.6621 10.7922C13.2316 10.2227 13.5163 9.53521 13.5163 8.72965C13.5163 7.9241 13.2316 7.2366 12.6621 6.66716C12.0927 6.09771 11.4052 5.81299 10.5996 5.81299C9.79405 5.81299 9.10655 6.09771 8.53711 6.66716C7.96766 7.2366 7.68294 7.9241 7.68294 8.72965C7.68294 9.53521 7.96766 10.2227 8.53711 10.7922C9.10655 11.3616 9.79405 11.6463 10.5996 11.6463ZM3.09961 18.313V3.31299H18.0996V18.313H3.09961ZM10.5996 9.97965C10.2524 9.97965 9.95725 9.85813 9.71419 9.61507C9.47114 9.37202 9.34961 9.07688 9.34961 8.72965C9.34961 8.38243 9.47114 8.08729 9.71419 7.84424C9.95725 7.60118 10.2524 7.47965 10.5996 7.47965C10.9468 7.47965 11.242 7.60118 11.485 7.84424C11.7281 8.08729 11.8496 8.38243 11.8496 8.72965C11.8496 9.07688 11.7281 9.37202 11.485 9.61507C11.242 9.85813 10.9468 9.97965 10.5996 9.97965ZM6.20378 16.6463H14.9954C14.3843 16.1047 13.6934 15.6915 12.9225 15.4067C12.1517 15.122 11.3774 14.9797 10.5996 14.9797C9.82183 14.9797 9.04058 15.122 8.25586 15.4067C7.47114 15.6915 6.78711 16.1047 6.20378 16.6463Z",fill:"currentColor",fillOpacity:"0.9"})})]})}),rt=({...h})=>e.jsx(B,{...h,viewBox:"0 0 24 24",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",children:[e.jsx("mask",{id:"mask0_8639_39547",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"21",height:"21",children:e.jsx("rect",{x:"0.599609",y:"0.812988",width:"20",height:"20",fill:"#D9D9D9"})}),e.jsx("g",{mask:"url(#mask0_8639_39547)",children:e.jsx("path",{d:"M17.2246 18.313C15.4885 18.313 13.7697 17.938 12.0684 17.188C10.367 16.438 8.82183 15.3685 7.43294 13.9797C6.04405 12.5908 4.97461 11.0491 4.22461 9.35465C3.47461 7.66021 3.09961 5.93799 3.09961 4.18799V3.31299H8.01628L8.78711 7.50049L6.41211 9.89632C6.71766 10.438 7.05794 10.9519 7.43294 11.438C7.80794 11.9241 8.21072 12.3755 8.64128 12.7922C9.04405 13.1949 9.48503 13.5803 9.96419 13.9484C10.4434 14.3165 10.9607 14.6602 11.5163 14.9797L13.9329 12.563L18.0996 13.4172V18.313H17.2246ZM5.62044 8.31299L6.99544 6.93799L6.64128 4.97965H4.78711C4.85655 5.60465 4.96072 6.19146 5.09961 6.74007C5.2385 7.28868 5.41211 7.81299 5.62044 8.31299ZM13.0788 15.7713C13.6343 16.0074 14.1934 16.1949 14.7559 16.3338C15.3184 16.4727 15.8774 16.563 16.4329 16.6047V14.7713L14.4746 14.3755L13.0788 15.7713Z",fill:"currentColor",fillOpacity:"0.9"})})]})}),at=({...h})=>e.jsx(B,{...h,viewBox:"0 0 24 24",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",children:[e.jsx("mask",{id:"mask0_8639_39552",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"21",height:"21",children:e.jsx("rect",{x:"0.599609",y:"0.812988",width:"20",height:"20",fill:"#D9D9D9"})}),e.jsx("g",{mask:"url(#mask0_8639_39552)",children:e.jsx("path",{d:"M2.59961 16.813V4.81299H18.5996V16.813H2.59961ZM10.5996 11.813L4.09961 8.08382V15.313H17.0996V8.08382L10.5996 11.813ZM10.5996 10.063L17.0788 6.31299H4.14128L10.5996 10.063ZM4.09961 8.08382V6.31299V15.313V8.08382Z",fill:"currentColor",fillOpacity:"0.9"})})]})}),st=({...h})=>e.jsx(B,{...h,viewBox:"0 0 24 24",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",children:[e.jsx("mask",{id:"mask0_8639_39558",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"25",height:"25",children:e.jsx("rect",{x:"0.0996094",y:"0.312988",width:"24",height:"24",fill:"#D9D9D9"})}),e.jsx("g",{mask:"url(#mask0_8639_39558)",children:e.jsx("path",{d:"M11.0246 14.363L16.6996 8.71299L15.2746 7.28799L11.0246 11.538L8.89961 9.41299L7.49961 10.813L11.0246 14.363ZM1.09961 21.313V19.313H23.0996V21.313H1.09961ZM2.09961 18.313V3.31299H22.0996V18.313H2.09961ZM4.09961 16.313H20.0996V5.31299H4.09961V16.313Z",fill:"currentColor",fillOpacity:"0.9"})})]})}),it=({...h})=>e.jsx(B,{...h,viewBox:"0 0 24 24",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",children:[e.jsx("mask",{id:"mask0_8639_39564",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"25",height:"25",children:e.jsx("rect",{x:"0.0996094",y:"0.312988",width:"24",height:"24",fill:"#D9D9D9"})}),e.jsx("g",{mask:"url(#mask0_8639_39564)",children:e.jsx("path",{d:"M14.0996 13.313H19.0996V11.313H14.0996V13.313ZM14.0996 10.313H19.0996V8.31299H14.0996V10.313ZM5.09961 16.313H13.0996V15.763C13.0996 15.013 12.7329 14.4172 11.9996 13.9755C11.2663 13.5338 10.2996 13.313 9.09961 13.313C7.89961 13.313 6.93294 13.5338 6.19961 13.9755C5.46628 14.4172 5.09961 15.013 5.09961 15.763V16.313ZM9.09961 12.313C9.64961 12.313 10.1204 12.1172 10.5121 11.7255C10.9038 11.3338 11.0996 10.863 11.0996 10.313C11.0996 9.76299 10.9038 9.29216 10.5121 8.90049C10.1204 8.50882 9.64961 8.31299 9.09961 8.31299C8.54961 8.31299 8.07878 8.50882 7.68711 8.90049C7.29544 9.29216 7.09961 9.76299 7.09961 10.313C7.09961 10.863 7.29544 11.3338 7.68711 11.7255C8.07878 12.1172 8.54961 12.313 9.09961 12.313ZM2.09961 20.313V4.31299H22.0996V20.313H2.09961ZM4.09961 18.313H20.0996V6.31299H4.09961V18.313Z",fill:"currentColor",fillOpacity:"0.9"})})]})}),mt=()=>{const{co_id:h}=N(),o=Ie(),[p,u]=f.useState(""),{data:C}=Le({co_id:Number(h),name:p}),[v,D]=f.useState(!1),[t,d]=f.useState(!1),{data:s}=Te({co_id:Number(h)}),[m,S]=f.useState(0),[l,r]=f.useState(!1),c=x=>{S(x),r(!0)},a=()=>{r(!1),S(null)},W=()=>{D(!0)},j=()=>{D(!1)},g=()=>{d(!1)},I=()=>{d(!0)};return e.jsx(K,{title:e.jsxs(w,{direction:"row",alignItems:"center",spacing:1,sx:{width:"100%"},children:[e.jsx(k,{onClick:()=>o(-1),children:e.jsx(Me,{})}),e.jsx(i,{variant:"h4",fontWeight:"bold",children:s==null?void 0:s.contrata})]}),filter:e.jsxs(w,{pl:3,direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%"},children:[e.jsxs(w,{direction:"row",spacing:4,children:[e.jsxs(i,{children:[e.jsx("strong",{children:"Rubro:"})," ",s==null?void 0:s.rubro.rubro]}),e.jsxs(i,{children:[e.jsx("strong",{children:"Descripción:"})," ",s==null?void 0:s.descripcion]})]}),e.jsxs(w,{direction:"row",spacing:2,children:[e.jsx(E,{variant:"contained",sx:x=>({backgroundColor:x.palette.tertiary.opacityLighter,color:"text.primary","&:hover":{backgroundColor:x.palette.tertiary.opacityMain}}),startIcon:e.jsx(Pe,{}),onClick:I,children:"Eliminar"}),e.jsx(E,{variant:"contained",sx:x=>({backgroundColor:x.palette.tertiary.opacityLighter,color:"text.primary","&:hover":{backgroundColor:x.palette.tertiary.opacityMain}}),startIcon:e.jsx(ie,{}),onClick:W,children:"Editar"})]})]}),children:e.jsx(K,{title:"Personal",filter:e.jsx($e,{onSearchChange:u}),children:e.jsxs(e.Fragment,{children:[e.jsx(J,{container:!0,spacing:2,children:C==null?void 0:C.data.map(x=>{const T={nombres:String(x.nombre),apellidos:String(x.apellido),cargo:String(x.c_id),dni:String(x.dni),telefono:String(x.telefono),email:String(x.correo),foto:x.foto?String(x.foto):""};return e.jsx(J,{size:{xs:12,sm:6,md:4,lg:3,xl:2},children:e.jsxs(Fe,{onClick:()=>c(x.p_id),sx:{borderRadius:3,boxShadow:3,p:2,position:"relative",height:"100%"},children:[e.jsx(_,{sx:{position:"absolute",top:8,right:8},children:e.jsx(ce,{worker:T,id:x.p_id,account:x.cantidad_cuentas,access:x.cantidad_tarjetas})}),e.jsxs(_,{display:"flex",flexDirection:"column",alignItems:"center",mt:2,children:[e.jsx(R,{src:`${re}/${x.foto}`,sx:{width:64,height:64,mt:1,mb:1}}),e.jsxs(i,{variant:"subtitle1",fontWeight:600,textAlign:"center",children:[x.nombre," ",x.apellido]}),e.jsx(i,{variant:"body2",color:"text.secondary",children:x.cargo})]}),e.jsxs(Re,{children:[e.jsxs(_,{display:"flex",alignItems:"center",mb:1,children:[e.jsx(tt,{}),e.jsxs(i,{variant:"body2",ml:1,children:[e.jsx("strong",{children:"DNI:"})," ",x.dni]})]}),e.jsxs(_,{display:"flex",alignItems:"center",mb:1,children:[e.jsx(rt,{}),e.jsxs(i,{variant:"body2",ml:1,children:[e.jsx("strong",{children:"Teléfono:"})," ",x.telefono]})]}),e.jsxs(_,{display:"flex",alignItems:"center",children:[e.jsx(at,{}),e.jsxs(i,{variant:"body2",noWrap:!0,ml:1,children:[e.jsx("strong",{children:"Correo:"})," ",x.correo]})]})]}),e.jsxs(_,{display:"flex",justifyContent:"center",mt:2,px:1,gap:3,children:[e.jsxs(_,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(st,{}),e.jsx(i,{variant:"caption",children:x.cantidad_cuentas===0?"Sin cuenta":x.cantidad_cuentas===1?"1 cuenta":`${x.cantidad_cuentas} cuentas`})]}),e.jsx(ae,{orientation:"vertical",flexItem:!0}),e.jsxs(_,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(it,{}),e.jsx(i,{variant:"caption",children:x.cantidad_tarjetas===0?"Sin tarjeta":x.cantidad_tarjetas===1?"1 Tarjeta":`${x.cantidad_tarjetas} tarjetas`})]})]})]})},x.p_id)})}),m!==null&&e.jsx(et,{open:l,onClose:a,workerId:m}),s&&e.jsxs(e.Fragment,{children:[e.jsx(ke,{companyName:(s==null?void 0:s.contrata)||"",description:(s==null?void 0:s.descripcion)||"",industry:(s==null?void 0:s.rubro.r_id)||0,id:(s==null?void 0:s.co_id)||0,handleCloseDialogEdit:j,openDialogEdit:v}),e.jsx(Ue,{companyName:(s==null?void 0:s.contrata)||"",id:(s==null?void 0:s.co_id)||0,handleCloseDialog:g,openDialog:t})]})]})})})};export{mt as default};
